GoodCode
===

小手先のことは置いておいて、原則として追求すべきことは

1. まとめて、隠蔽する（ライブラリ化）
2. 1 つのクラス / メソッドにつき 1 つの責務しか持たない（小さいことをしっかりやるモノを組み合わせてでかいモノを作る）
3. テストを書く

まとめて、隠蔽する
---

`AFNetworking` は中身を知らなくても使える。`- GET` などの public メソッドを呼ぶだけで全てが済む。
こういったレベルまで中身が隠蔽されると、自ずと意識すべき「クラス数」が減るという現象が起こる。

`AFNetworking` の中身クラスまで自分のコードのクラス数に数える奴は居ない。
これは素晴らしいこと。
複雑さは関係するクラス数の 2 乗に比例する。くらいで考えておくと、この効力は偉大。（クラスを分けるな、という話ではない）

このように「まるでライブラリのように使える」程度までクラス / 責務を凝縮させ、切り離すべき。

ここまで隠蔽出来るケースは、かなり限定的ではないかと思うが、例えば "UI" であったり、 "API Client", "Gesture Detector", "Model Class" などは隠蔽し得る。

想像してみたい。例えば、「API クライアントライブラリの面倒だけを見る人」「Model Class の中身だけ面倒を見る人」が居れば、どれだけ「本丸」をつくる人は楽だろう？

自分のアプリを「ライブラリの集合」と言える程度までモジュラーにすると良いと思う。

だから、ある機能を追加したいとき、最初からアプリのコードを書くのではなく、ライブラリのプロジェクトに切って始めるのは意識的にも効果がある。ように思う。

1 つの責務
---

1 つのクラスは 1 つの責務しか持ってはいけない。

これを破るとたいてい次のような問題が起こる。

1. 状態変数が増える
2. お互いに関係し合うメソッドが増える
3. テストしにくい

「複雑さは構成要素の 2 乗に比例する」

テストを書く
---

テストないとリファクタリング出来ない。
とにかくなんでもいいから一行でもいいからテストは書くべき。

副作用と表明
---

どんな副作用をもたらすのか明示的に表明する。

「関数」と「サブルーチン」の区別。
